\hypertarget{my__code_8c_source}{}\doxysection{my\+\_\+code.\+c}
\label{my__code_8c_source}\index{Core/Src/my\_code.c@{Core/Src/my\_code.c}}
\mbox{\hyperlink{my__code_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00002}00002\ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00003}00003\ \textcolor{comment}{\ *\ \ File\ Name:\ my\_code.c}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00004}00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00005}00005\ \textcolor{comment}{\ *\ \ Created\ on:\ Mar\ 14,\ 2023}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00006}00006\ \textcolor{comment}{\ *\ \ updated:\ 4/18/2023}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00007}00007\ \textcolor{comment}{\ *\ \ Authors:\ William\ Winters\ and\ Vikash\ Ramharack}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00008}00008\ \textcolor{comment}{\ *}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00009}00009\ \textcolor{comment}{\ *\ \ Written\ for\ senior\ design\ as\ Stony\ Brook\ University}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00010}00010\ \textcolor{comment}{\ *\ \ for\ the\ Stony\ Brook\ Solar\ Racing\ team}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00011}00011\ \textcolor{comment}{\ *}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00012}00012\ \textcolor{comment}{\ *\ \ Copyright\ William\ Winters\ and\ Vikash\ Ramharack\ 2023}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00013}00013\ \textcolor{comment}{\ *\ \ released\ under\ GPL\ version\ 3}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00014}00014\ \textcolor{comment}{\ *\ \ Any\ example\ code\ or\ external\ libraries\ used\ here\ are\ the\ property\ of\ their\ owners}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00015}00015\ \textcolor{comment}{\ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00017}00017\ \textcolor{comment}{/*\ include\ standard\ libraries\ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00018}00018\ \textcolor{preprocessor}{\#include\ <string.h>}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00019}00019\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00021}00021\ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00022}00022\ \textcolor{comment}{\ *\ include\ custom\ header\ with\ function\ declarations\ ect.}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00023}00023\ \textcolor{comment}{\ *\ if\ something\ is\ broken\ you\ may\ need\ to\ look\ here}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00024}00024\ \textcolor{comment}{\ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00025}00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{my__code_8h}{my\_code.h}}"{}}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00026}00026\ \textcolor{comment}{//\#include\ "{}TestFuncs.h"{}}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00028}00028\ \textcolor{comment}{/*\ include\ third\ party\ libraries\ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00029}00029\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lwgps_8h}{lwgps/lwgps.h}}"{}}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00030}00030\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ads1115_8h}{ads1115.h}}"{}}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00031}00031\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_l_c_d_8h}{LCD.h}}"{}}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00032}00032\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_m_a_x31865_8h}{MAX31865.h}}"{}}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00033}00033\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pcf8574_8h}{pcf8574.h}}"{}}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00037}00037\ \textcolor{comment}{/*\ define\ global\ variables\ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00039}\mbox{\hyperlink{my__code_8c_ae1b4a2a0bd124fb2ee430c8ba7e3a071}{00039}}\ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{my__code_8c_ae1b4a2a0bd124fb2ee430c8ba7e3a071}{message}}[]\ =\ \textcolor{stringliteral}{"{}hello\ world"{}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00041}00041\ \textcolor{comment}{/*\ define\ GPS\ stuff\ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00042}\mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{00042}}\ \textcolor{keyword}{volatile}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structgps__struct}{gps\_struct}}\ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}};\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00043}\mbox{\hyperlink{my__code_8c_ac8220b038fb744675e8bf5193ebcefb2}{00043}}\ \mbox{\hyperlink{structlwgps__t}{lwgps\_t}}\ \mbox{\hyperlink{my__code_8c_ac8220b038fb744675e8bf5193ebcefb2}{hgps}};\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00045}00045\ \textcolor{comment}{//\ for\ tachometer}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00046}00046\ \textcolor{comment}{//float\ Frequency\ =\ 0;}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00047}00047\ \textcolor{comment}{//float\ rpm\ =\ 0;}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00049}00049\ \textcolor{comment}{//\ for\ hall\ effect\ sensors}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00050}\mbox{\hyperlink{my__code_8c_a09dfb4af94edd4a7ea154efbb490358f}{00050}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structhall__struct}{hall\_struct}}\ hall1,\ hall2,\ \mbox{\hyperlink{my__code_8c_a09dfb4af94edd4a7ea154efbb490358f}{hall3}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00053}00053\ \textcolor{comment}{//\ for\ tach}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00054}\mbox{\hyperlink{my__code_8c_a493470a87e69019c801d43e7903a0cb6}{00054}}\ uint32\_t\ \mbox{\hyperlink{my__code_8c_a493470a87e69019c801d43e7903a0cb6}{IC\_Val1}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00055}\mbox{\hyperlink{my__code_8c_ad6e044721ac3056f8eeaf52ffbb6638b}{00055}}\ uint32\_t\ \mbox{\hyperlink{my__code_8c_ad6e044721ac3056f8eeaf52ffbb6638b}{IC\_Val2}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00056}\mbox{\hyperlink{my__code_8c_a7cb3d9526cb717de1ac2f83a7b7d88a4}{00056}}\ uint32\_t\ \mbox{\hyperlink{my__code_8c_a7cb3d9526cb717de1ac2f83a7b7d88a4}{Difference}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00057}\mbox{\hyperlink{my__code_8c_a5d7fd7789fda6c42c591954c2bb70588}{00057}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{my__code_8c_a5d7fd7789fda6c42c591954c2bb70588}{Is\_First\_Captured}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00059}00059\ \textcolor{comment}{//for\ temp\ sensor}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00060}\mbox{\hyperlink{my__code_8c_ab19a506a93d50c62f012c9a628d28a90}{00060}}\ \mbox{\hyperlink{struct_max31865__t}{Max31865\_t}}\ \ \mbox{\hyperlink{my__code_8c_ab19a506a93d50c62f012c9a628d28a90}{pt100}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00061}\mbox{\hyperlink{my__code_8c_a85c0e8708ad7a7550e5c331abc594927}{00061}}\ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_a85c0e8708ad7a7550e5c331abc594927}{pt100isOK}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00062}\mbox{\hyperlink{my__code_8c_ab37ad5f3cdf2a1dd5d04e2b562ae97be}{00062}}\ \textcolor{keywordtype}{float}\ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_ab37ad5f3cdf2a1dd5d04e2b562ae97be}{pt100Temp}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00064}\mbox{\hyperlink{my__code_8c_a9d3c19e881c80a6596884ecb8da4a0f4}{00064}}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{my__code_8c_a9d3c19e881c80a6596884ecb8da4a0f4}{Frequency}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00065}\mbox{\hyperlink{my__code_8h_a25e39b399c2a11f0d76e42ab8241a910}{00065}}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{my__code_8c_a25e39b399c2a11f0d76e42ab8241a910}{rpm}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00066}\mbox{\hyperlink{my__code_8h_a4d122fe4f75f69642832764efc0f451c}{00066}}\ uint16\_t\ \mbox{\hyperlink{my__code_8c_a4d122fe4f75f69642832764efc0f451c}{readValue}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00067}\mbox{\hyperlink{my__code_8c_ac518d2e94791ccc6f84de95271e52c76}{00067}}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{my__code_8c_ac518d2e94791ccc6f84de95271e52c76}{sensitivity}}\ =\ 0.001;\ \textcolor{comment}{//\ 0.1\ for\ 20A\ Model}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00068}\mbox{\hyperlink{my__code_8c_a46d034bf9b16163f4fa1f8b7980d34c1}{00068}}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{my__code_8c_a46d034bf9b16163f4fa1f8b7980d34c1}{rawVoltage}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00069}\mbox{\hyperlink{my__code_8c_af9653d31acfffa5a40aa709b2065e00b}{00069}}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{my__code_8c_af9653d31acfffa5a40aa709b2065e00b}{current}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00071}\mbox{\hyperlink{my__code_8c_a492129e77ccbe26628dbf3253cfc03f3}{00071}}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{my__code_8c_a492129e77ccbe26628dbf3253cfc03f3}{volt1}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00072}\mbox{\hyperlink{my__code_8c_ab75f4db6d1e874ad84b544b298551ccc}{00072}}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{my__code_8c_ab75f4db6d1e874ad84b544b298551ccc}{volt2}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00073}\mbox{\hyperlink{my__code_8c_a9ba4b6c7877ede091f28d1b0d74d0a91}{00073}}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{my__code_8c_a9ba4b6c7877ede091f28d1b0d74d0a91}{volt3}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00074}\mbox{\hyperlink{my__code_8c_a03220cc699ee703ec90047e2a87c4785}{00074}}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{my__code_8c_a03220cc699ee703ec90047e2a87c4785}{volt0}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00076}00076\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{my__code_8c_a29d7b6715dbf6dfe6b4da72f234cbd9c}{ADC\_Disable\_channels}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00081}\mbox{\hyperlink{my__code_8h_a4fc01d736fe50cf5b977f755b675f11d}{00081}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{my__code_8c_a4fc01d736fe50cf5b977f755b675f11d}{setup}}()}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00082}00082\ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00084}00084\ \ \ \ \ \textcolor{comment}{//init\ lcd}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00085}00085\ \ \ \ \ \textcolor{comment}{//LCD\_Init();}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00086}00086\ \ \ \ \ \mbox{\hyperlink{pcf8574_8h_aa66e90a23f82feabb60b63dd39299ad6}{pcf8574\_init}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00087}00087\ \ \ \ \ \mbox{\hyperlink{pcf8574_8h_aa35596e8e898426a066c74eb86266837}{pcf8574\_clr}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00088}00088\ \ \ \ \ \mbox{\hyperlink{pcf8574_8h_ad7a2ce201ada868604cc706faf280eb1}{pcf8574\_cursor}}(0,\ 0);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00089}00089\ \ \ \ \ \mbox{\hyperlink{pcf8574_8h_a80c7fedc95b28a8c4711b846eec74901}{pcf8574\_send\_string}}(\textcolor{stringliteral}{"{}\ \ HELLO\ SKIPPER\ O7"{}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00090}00090\ \ \ \ \ \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gae63b34eea12780ca2e1100c2402da18e}{HAL\_Delay}}(1000);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00092}00092\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00093}00093\ \ \ \ \ \textcolor{comment}{//\ gps\ setup\ code}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00094}00094\ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_aff39d864a6594bc5f4a5e365282e00fe}{tail}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00095}00095\ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a63b72da7fff00fc0ce6cac1c4660f415}{buffStateFlag}}\ =\ write;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00096}00096\ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_aadd3a59cea049460bd4e196c59181118}{numLines}}\ =\ 14;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00097}00097\ \ \ \ \ \mbox{\hyperlink{group___l_w_g_p_s_gaf69993c7ad6cb474707f86d4d986d87f}{lwgps\_init}}(\&\mbox{\hyperlink{my__code_8c_ac8220b038fb744675e8bf5193ebcefb2}{hgps}});\ \textcolor{comment}{//\ init\ gps\ parsing\ library}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00098}00098\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00099}00099\ \ \ \ \ \mbox{\hyperlink{group___u_a_r_t___exported___functions___group2_gadc0c3ef2109881d011601f0d41e70e40}{HAL\_UART\_Receive\_IT}}(\&\mbox{\hyperlink{my__code_8h_ab7c63c1b0f65db92b6a4ea19edf957e1}{huart3}}\ ,\ (uint8\_t\ *)\ \&\ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a7f4589c5a44136c693a6eee261c917bf}{newchar}}\ ,\ 1);\ \textcolor{comment}{//\ could\ use\ higher\ size\ and\ change\ parsing}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00100}00100\ \ \ \ \ \textcolor{comment}{//\ end\ gps\ setup\ code}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00102}00102\ \ \ \ \ \textcolor{comment}{//external\ ADC\ setup\ code}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00103}00103\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{ads1115_8h_a67052e36b856806aa4c2b53802d557d4}{ADS1115\_Init}}(\&\mbox{\hyperlink{i2c_8h_af7b2c26e44dadaaa798a5c3d82914ba7}{hi2c1}},\ \mbox{\hyperlink{ads1115_8h_a1fd02a71e98bc7d769324677f5f56128}{ADS1115\_DATA\_RATE\_64}},\ \mbox{\hyperlink{ads1115_8h_a7b4abbfeb11693f37c8c81c22d10dbf9}{ADS1115\_PGA\_FOUR}})\ !=\ \mbox{\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})\{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00104}00104\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ init\ failed}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00105}00105\ \ \ \ \ \ \ \ \ \textcolor{comment}{//while(1)\{\}}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00106}00106\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pcf8574_8h_aa35596e8e898426a066c74eb86266837}{pcf8574\_clr}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00107}00107\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pcf8574_8h_ad7a2ce201ada868604cc706faf280eb1}{pcf8574\_cursor}}(0,\ 0);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00108}00108\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pcf8574_8h_a80c7fedc95b28a8c4711b846eec74901}{pcf8574\_send\_string}}(\textcolor{stringliteral}{"{}EXT\ ADC\ INIT\ FAILED"{}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00109}00109\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gae63b34eea12780ca2e1100c2402da18e}{HAL\_Delay}}(1000);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00110}00110\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00111}00111\ \ \ \ \ \ \ \ \ \textcolor{comment}{//end\ external\ ADC\ setup\ code}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00112}00112\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00113}00113\ \ \ \ \ \textcolor{comment}{//\ init\ internal\ adc}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00114}00114\ \ \ \ \ \textcolor{comment}{//HAL\_ADC\_Start(\&hadc);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00115}00115\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00116}00116\ \ \ \ \ \textcolor{comment}{//test\_gps\_blocking();}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00117}00117\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00118}00118\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00119}00119\ \ \ \ \ \textcolor{comment}{//\ temp\ setup}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00120}00120\ \ \ \ \ \mbox{\hyperlink{_m_a_x31865_8c_a7af0698160523a69eee213637c8c3ce0}{Max31865\_init}}(\&\mbox{\hyperlink{my__code_8c_ab19a506a93d50c62f012c9a628d28a90}{pt100}},\&\mbox{\hyperlink{spi_8h_ab9da65f935e805137e2eb4e18c5ab224}{hspi2}},\mbox{\hyperlink{group___peripheral__declaration_gac485358099728ddae050db37924dd6b7}{GPIOA}},\mbox{\hyperlink{group___g_p_i_o__pins_gaf5eb6a42a4428e236bd4fd08ade71e7a}{GPIO\_PIN\_8}},4,50);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00121}00121\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00122}00122\ \}\textcolor{comment}{//\ end\ setup}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00127}\mbox{\hyperlink{my__code_8h_afe461d27b9c48d5921c00d521181f12f}{00127}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{my__code_8c_afe461d27b9c48d5921c00d521181f12f}{loop}}()}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00128}00128\ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00129}00129\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00130}00130\ \ \ \ \ \textcolor{comment}{//\ get\ gps\ data}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00131}00131\ \ \ \ \ \mbox{\hyperlink{my__code_8c_ab55f9f16932b73a407fa0bca4730d476}{gps\_rx}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00132}00132\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00133}00133\ \ \ \ \ \textcolor{comment}{//\ get\ current}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00134}00134\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a562b46db6df8519948cd3397d0a74c9f}{hall\_read}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00135}00135\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00136}00136\ \ \ \ \ \textcolor{comment}{//get\ voltage}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00137}00137\ \ \ \ \ \textcolor{comment}{/*\ Poll\ for\ voltage\ divider*/}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00138}00138\ \ \ \ \ \mbox{\hyperlink{my__code_8c_acd5eb894164a07a00867af26c324b26a}{readVoltage}}(1.0);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00139}00139\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00140}00140\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00141}00141\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00142}00142\ \ \ \ \ \textcolor{comment}{//get\ temperature}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00143}00143\ \ \ \ \ \textcolor{keywordtype}{float}\ t;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00144}00144\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a85c0e8708ad7a7550e5c331abc594927}{pt100isOK}}\ =\ \mbox{\hyperlink{_m_a_x31865_8c_a16213618890e307f757c658fd64226c2}{Max31865\_readTempC}}(\&\mbox{\hyperlink{my__code_8c_ab19a506a93d50c62f012c9a628d28a90}{pt100}},\&t);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00145}00145\ \ \ \ \ \mbox{\hyperlink{my__code_8c_ab37ad5f3cdf2a1dd5d04e2b562ae97be}{pt100Temp}}\ =\ \mbox{\hyperlink{_m_a_x31865_8c_ad7de685bbd61fb2dd020ad9a15380149}{Max31865\_Filter}}(t,\mbox{\hyperlink{my__code_8c_ab37ad5f3cdf2a1dd5d04e2b562ae97be}{pt100Temp}},0.1);\ \ \ \textcolor{comment}{//\ \ <<\ For\ Smoothing\ data}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00146}00146\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00147}00147\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00148}00148\ \ \ \ \ \textcolor{comment}{//update\ display}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00149}00149\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a7259c0cadb7bc3e6b343edc3189990e7}{LCD\_paint}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00150}00150\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00151}00151\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00152}00152\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00153}00153\ \ \ \ \ \textcolor{comment}{/*\ tx\ data\ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00154}00154\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00155}00155\ \ \ \ \ \textcolor{comment}{//message\ code,lat,long,Speed,Battery\ Current,Motor\ 1\ Current,Motor\ 2\ current,Solar\ current,V12,V24,V36,Vm1,Vm2,Vsolar,Temp1,Temp2}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00156}00156\ \ \ \ \ \textcolor{comment}{//0,40.546906,73.0733222,12.3,200.1,400.1,400.1,40.1,12.1,24.2,36.3,16.1,16.1,17.5,20.5,30.5}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00157}00157\ \ \ \ \ \textcolor{keywordtype}{char}\ payload[256];}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00158}00158\ \ \ \ \ \textcolor{comment}{//sprintf(payload,"{}\%d,\%f,\%f,\%f,\%f,\%f,\%f,\%f,\%f,\%f,\%f,\%f,\%f,\%f,\%f,\%f"{},420,hgps.latitude,hgps.longitude,hgps.speed,hall1.current,hall2.current,hall3.current,420.0,420.0,42.0,420.0,420.0,420.0,420.0,420.0,420.0);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00159}00159\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00160}00160\ \ \ \ \ \textcolor{comment}{//sprintf(payload,"{}\%d\ RPM,\ \%d\ c,\ \%d\ s,\ \%d\ lat\ ,\ \%d\ lon"{},(int)rpm,(int)pt100Temp,\ (int)\ hgps.speed\ /10,\ hgps.latitude\ *\ 1000000\ ,\ hgps.longitude\ *\ 1000000);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00161}00161\ \ \ \ \ sprintf(payload,\textcolor{stringliteral}{"{}testing"{}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00162}00162\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a3379ea969e8f3d0b3feff28db2ef81f8}{lora\_tx\_it}}(payload\ ,\ strlen(payload));}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00163}00163\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00164}00164\ \ \ \ \ \textcolor{comment}{//\ delay}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00165}00165\ \ \ \ \ \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gae63b34eea12780ca2e1100c2402da18e}{HAL\_Delay}}(500);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00166}00166\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00167}00167\ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00168}00168\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00169}00169\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00170}00170\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00175}\mbox{\hyperlink{my__code_8h_a7259c0cadb7bc3e6b343edc3189990e7}{00175}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{my__code_8c_a7259c0cadb7bc3e6b343edc3189990e7}{LCD\_paint}}()}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00176}00176\ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00177}00177\ \ \ \ \ \textcolor{keywordtype}{char}\ line1[20];}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00178}00178\ \ \ \ \ \textcolor{keywordtype}{char}\ line2[20];}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00179}00179\ \ \ \ \ \textcolor{keywordtype}{char}\ line3[20];}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00180}00180\ \ \ \ \ \textcolor{keywordtype}{char}\ line4[20];}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00181}00181\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00182}00182\ \ \ \ \ \textcolor{comment}{//\ assemble\ messages\ (uncomment\ one)}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00183}00183\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00184}00184\ \ \ \ \ \textcolor{comment}{/*All\ parameters*/}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00185}00185\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00186}00186\ \textcolor{comment}{\ \ \ \ sprintf(line1,"{}I1\ \%3dI2\ \%3dI3\ \%3d"{},\ (int)\ (hall1.current\ +\ 0.5\ ),\ (int)\ (hall2.current\ +\ 0.5),\ (int)\ (hall3.current\ +\ 0.5));}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00187}00187\ \textcolor{comment}{\ \ \ \ sprintf(line2,"{}\%4d\ RPM"{},\ (int)\ (rpm\ +\ 0.5));}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00188}00188\ \textcolor{comment}{\ \ \ \ sprintf(line3,"{}\%.1f"{},\ hgps.speed);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00189}00189\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00190}00190\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00191}00191\ \ \ \ \ \textcolor{comment}{/*GPS\ test*/}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00192}00192\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00193}00193\ \textcolor{comment}{\ \ \ \ sprintf(line1,"{}Lat:\%f"{},hgps.latitude);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00194}00194\ \textcolor{comment}{\ \ \ \ sprintf(line2,"{}Lon:\%f"{},hgps.longitude);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00195}00195\ \textcolor{comment}{\ \ \ \ sprintf(line3,"{}Speed:\%f"{},hgps.speed);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00196}00196\ \textcolor{comment}{\ \ \ \ sprintf(line4,"{}fix\ type:\ \%d"{},hgps.fix\_mode);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00197}00197\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00198}00198\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00199}00199\ \ \ \ \ \textcolor{comment}{/*Internal\ ADC\ test*/}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00200}00200\ \ \ \ \ sprintf(line1,\textcolor{stringliteral}{"{}V0:\%f"{}},\mbox{\hyperlink{my__code_8c_a03220cc699ee703ec90047e2a87c4785}{volt0}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00201}00201\ \ \ \ \ sprintf(line2,\textcolor{stringliteral}{"{}V1:\%f"{}},\mbox{\hyperlink{my__code_8c_a492129e77ccbe26628dbf3253cfc03f3}{volt1}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00202}00202\ \ \ \ \ sprintf(line3,\textcolor{stringliteral}{"{}V2:\%f"{}},\mbox{\hyperlink{my__code_8c_ab75f4db6d1e874ad84b544b298551ccc}{volt2}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00203}00203\ \ \ \ \ sprintf(line4,\textcolor{stringliteral}{"{}V3:\%f"{}},\mbox{\hyperlink{my__code_8c_a9ba4b6c7877ede091f28d1b0d74d0a91}{volt3}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00204}00204\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00205}00205\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00206}00206\ \ \ \ \ \textcolor{comment}{//\ update\ LCD}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00207}00207\ \ \ \ \ \mbox{\hyperlink{pcf8574_8h_aa35596e8e898426a066c74eb86266837}{pcf8574\_clr}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00208}00208\ \ \ \ \ \mbox{\hyperlink{pcf8574_8h_ad7a2ce201ada868604cc706faf280eb1}{pcf8574\_cursor}}(0,\ 0);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00209}00209\ \ \ \ \ \mbox{\hyperlink{pcf8574_8h_a80c7fedc95b28a8c4711b846eec74901}{pcf8574\_send\_string}}(line1);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00210}00210\ \ \ \ \ \mbox{\hyperlink{pcf8574_8h_ad7a2ce201ada868604cc706faf280eb1}{pcf8574\_cursor}}(1,\ 0);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00211}00211\ \ \ \ \ \mbox{\hyperlink{pcf8574_8h_a80c7fedc95b28a8c4711b846eec74901}{pcf8574\_send\_string}}(line2);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00212}00212\ \ \ \ \ \mbox{\hyperlink{pcf8574_8h_ad7a2ce201ada868604cc706faf280eb1}{pcf8574\_cursor}}(2,\ 0);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00213}00213\ \ \ \ \ \mbox{\hyperlink{pcf8574_8h_a80c7fedc95b28a8c4711b846eec74901}{pcf8574\_send\_string}}(line3);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00214}00214\ \ \ \ \ \mbox{\hyperlink{pcf8574_8h_ad7a2ce201ada868604cc706faf280eb1}{pcf8574\_cursor}}(3,\ 0);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00215}00215\ \ \ \ \ \mbox{\hyperlink{pcf8574_8h_a80c7fedc95b28a8c4711b846eec74901}{pcf8574\_send\_string}}(line4);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00216}00216\ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00217}00217\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00218}00218\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00219}00219\ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00220}00220\ \textcolor{comment}{\ *\ \(\backslash\)brief\ This\ function\ reads\ current\ from\ each\ hall\ effect\ current\ sensor}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00221}00221\ \textcolor{comment}{\ *\ using\ an\ ADS1115\ external\ ADC.\ All\ 3\ Vref\ outputs\ are\ connected}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00222}00222\ \textcolor{comment}{\ *\ to\ AIN3,\ and\ all\ Vout\ outputs\ are\ read\ relative\ to\ that}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00223}00223\ \textcolor{comment}{\ *\ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00224}\mbox{\hyperlink{my__code_8h_a562b46db6df8519948cd3397d0a74c9f}{00224}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{my__code_8c_a562b46db6df8519948cd3397d0a74c9f}{hall\_read}}()}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00225}00225\ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00226}00226\ \ \ \ \ \textcolor{comment}{//\ hall\ sensor\ 1}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00227}00227\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{ads1115_8h_aeec6c2ea094d21a583046bdbe4d2b540}{ADS1115\_read}}(\mbox{\hyperlink{ads1115_8h_a3dcc1ccba7cb74724d1a506df362a989}{ADS1115\_MUX\_AIN0\_AIN3}},\ \&hall1.rawVoltage)\ ==\ \mbox{\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00228}00228\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00229}00229\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Voltage\ in\ mV\ successfully\ read.}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00230}00230\ \ \ \ \ \ \ \ \ hall1.current\ =\ (hall1.rawVoltage\ -\/\ hall1.offsetVoltage)\ *\ \mbox{\hyperlink{my__code_8h_ac84571f5c253fd004690a73bb38c0151}{HALL\_SENSITIVITY}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00231}00231\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00232}00232\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00233}00233\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00234}00234\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ current\ read\ fails,\ set\ current\ to\ a\ conspicuous\ value}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00235}00235\ \ \ \ \ \ \ \ \ hall1.current\ =\ 123.456789;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00236}00236\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00237}00237\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00238}00238\ \ \ \ \ \textcolor{comment}{//\ hall\ sensor\ 2}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00239}00239\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{ads1115_8h_aeec6c2ea094d21a583046bdbe4d2b540}{ADS1115\_read}}(\mbox{\hyperlink{ads1115_8h_aac86c5f4331b7f5a43406cdfd053e5ad}{ADS1115\_MUX\_AIN1\_AIN3}},\ \&hall2.rawVoltage)\ ==\ \mbox{\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00240}00240\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00241}00241\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Voltage\ in\ mV\ successfully\ read.}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00242}00242\ \ \ \ \ \ \ \ \ hall2.current\ =\ (hall2.rawVoltage\ -\/\ hall2.offsetVoltage)\ *\ \mbox{\hyperlink{my__code_8h_ac84571f5c253fd004690a73bb38c0151}{HALL\_SENSITIVITY}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00243}00243\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00244}00244\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00245}00245\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00246}00246\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ current\ read\ fails,\ set\ current\ to\ a\ conspicuous\ value}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00247}00247\ \ \ \ \ \ \ \ \ hall2.current\ =\ 123.456789;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00248}00248\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00249}00249\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00250}00250\ \ \ \ \ \textcolor{comment}{//\ hall\ sensor\ 3}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00251}00251\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{ads1115_8h_aeec6c2ea094d21a583046bdbe4d2b540}{ADS1115\_read}}(\mbox{\hyperlink{ads1115_8h_ac0111dc9cb02d303cb896ed8650b7a48}{ADS1115\_MUX\_AIN2\_AIN3}},\ \&\mbox{\hyperlink{my__code_8c_a09dfb4af94edd4a7ea154efbb490358f}{hall3}}.\mbox{\hyperlink{structhall__struct_a46d034bf9b16163f4fa1f8b7980d34c1}{rawVoltage}})\ ==\ \mbox{\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00252}00252\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00253}00253\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Voltage\ in\ mV\ successfully\ read.}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00254}00254\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_a09dfb4af94edd4a7ea154efbb490358f}{hall3}}.\mbox{\hyperlink{structhall__struct_af9653d31acfffa5a40aa709b2065e00b}{current}}\ =\ (\mbox{\hyperlink{my__code_8c_a09dfb4af94edd4a7ea154efbb490358f}{hall3}}.\mbox{\hyperlink{structhall__struct_a46d034bf9b16163f4fa1f8b7980d34c1}{rawVoltage}}\ -\/\ \mbox{\hyperlink{my__code_8c_a09dfb4af94edd4a7ea154efbb490358f}{hall3}}.\mbox{\hyperlink{structhall__struct_a5ee2c3eaba23f030eddaa393122f1104}{offsetVoltage}})\ *\ \mbox{\hyperlink{my__code_8h_ac84571f5c253fd004690a73bb38c0151}{HALL\_SENSITIVITY}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00255}00255\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00256}00256\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00257}00257\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00258}00258\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ current\ read\ fails,\ set\ current\ to\ a\ conspicuous\ value}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00259}00259\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_a09dfb4af94edd4a7ea154efbb490358f}{hall3}}.\mbox{\hyperlink{structhall__struct_af9653d31acfffa5a40aa709b2065e00b}{current}}\ =\ 123.456789;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00260}00260\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00261}00261\ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00262}00262\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00263}00263\ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00264}00264\ \textcolor{comment}{\ *\ \(\backslash\)brief\ This\ function\ zeros\ all\ three\ hall\ effect\ sensors}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00265}00265\ \textcolor{comment}{\ *\ \ it\ will\ block\ due\ to\ internal\ delay\ functions}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00266}00266\ \textcolor{comment}{\ *\ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00267}\mbox{\hyperlink{my__code_8h_a98b85952932b02fafbcf56ac1f246954}{00267}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{my__code_8c_a98b85952932b02fafbcf56ac1f246954}{hall\_calibrate}}()}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00268}00268\ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00269}00269\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{ads1115_8h_aeec6c2ea094d21a583046bdbe4d2b540}{ADS1115\_read}}(\mbox{\hyperlink{ads1115_8h_adc2ed1597f0d082666bc60d58af7ebb1}{ADS1115\_MUX\_AIN0\_AIN1}},\ \&hall1.offsetVoltage)\ ==\ \mbox{\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}}\ \&\&}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00270}00270\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ads1115_8h_aeec6c2ea094d21a583046bdbe4d2b540}{ADS1115\_read}}(\mbox{\hyperlink{ads1115_8h_adc2ed1597f0d082666bc60d58af7ebb1}{ADS1115\_MUX\_AIN0\_AIN1}},\ \&hall2.offsetVoltage)\ ==\ \mbox{\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}}\ \&\&}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00271}00271\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ads1115_8h_aeec6c2ea094d21a583046bdbe4d2b540}{ADS1115\_read}}(\mbox{\hyperlink{ads1115_8h_adc2ed1597f0d082666bc60d58af7ebb1}{ADS1115\_MUX\_AIN0\_AIN1}},\ \&\mbox{\hyperlink{my__code_8c_a09dfb4af94edd4a7ea154efbb490358f}{hall3}}.\mbox{\hyperlink{structhall__struct_a5ee2c3eaba23f030eddaa393122f1104}{offsetVoltage}})\ ==\ \mbox{\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00272}00272\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00273}00273\ \ \ \ \ \ \ \ \ \textcolor{comment}{//calibration\ successful}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00274}00274\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_l_c_d_8h_ae60d0b62d7eb3fa31266c095d7b3c245}{LCD\_Clear}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00275}00275\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_l_c_d_8h_a688d80a383c2d920397e8b3a494c4b53}{LCD\_Puts}}(0,1,\textcolor{stringliteral}{"{}******\ CAL\ OK\ ******"{}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00276}00276\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gae63b34eea12780ca2e1100c2402da18e}{HAL\_Delay}}(500);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00277}00277\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00278}00278\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00279}00279\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00280}00280\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_l_c_d_8h_ae60d0b62d7eb3fa31266c095d7b3c245}{LCD\_Clear}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00281}00281\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_l_c_d_8h_a688d80a383c2d920397e8b3a494c4b53}{LCD\_Puts}}(0,1,\textcolor{stringliteral}{"{}*****\ CAL\ FAIL\ *****"{}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00282}00282\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gae63b34eea12780ca2e1100c2402da18e}{HAL\_Delay}}(500);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00283}00283\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00284}00284\ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00285}00285\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00286}00286\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00290}\mbox{\hyperlink{my__code_8h_ab55f9f16932b73a407fa0bca4730d476}{00290}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{my__code_8c_ab55f9f16932b73a407fa0bca4730d476}{gps\_rx}}()}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00291}00291\ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00292}00292\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a63b72da7fff00fc0ce6cac1c4660f415}{buffStateFlag}}\ ==\ read)\ \textcolor{comment}{//\ if\ buffer\ is\ ready\ to\ read}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00293}00293\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00294}00294\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00295}00295\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Process\ all\ input\ data\ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00296}00296\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___l_w_g_p_s_gaf169c4cd93a4c22c976c9f17b69055a0}{lwgps\_process}}(\&\mbox{\hyperlink{my__code_8c_ac8220b038fb744675e8bf5193ebcefb2}{hgps}},\ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a718512b34ac927fdf021953ca4bb1967}{buff}},\ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_aff39d864a6594bc5f4a5e365282e00fe}{tail}}\ -\/\ 1);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00297}00297\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00298}00298\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Print\ messages\ for\ debugging\ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00299}00299\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00300}00300\ \textcolor{comment}{\ \ \ \ \ \ \ \ char\ message[64];}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00301}00301\ \textcolor{comment}{\ \ \ \ \ \ \ \ sprintf(message,\ "{}Valid\ status:\ \%d\(\backslash\)r\(\backslash\)n"{},\ hgps.is\_valid);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00302}00302\ \textcolor{comment}{\ \ \ \ \ \ \ \ HAL\_UART\_Transmit(\ \&huart1\ ,\ (uint8\_t\ *)\ message\ ,\ strlen(message)\ ,\ HAL\_MAX\_DELAY);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00303}00303\ \textcolor{comment}{\ \ \ \ \ \ \ \ sprintf(message,\ "{}Latitude:\ \%f\ degrees\(\backslash\)r\(\backslash\)n"{},\ hgps.latitude);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00304}00304\ \textcolor{comment}{\ \ \ \ \ \ \ \ HAL\_UART\_Transmit(\ \&huart1\ ,\ (uint8\_t\ *)\ message\ ,\ strlen(message)\ ,\ HAL\_MAX\_DELAY);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00305}00305\ \textcolor{comment}{\ \ \ \ \ \ \ \ sprintf(message,\ "{}Longitude:\ \%f\ degrees\(\backslash\)r\(\backslash\)n"{},\ hgps.longitude);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00306}00306\ \textcolor{comment}{\ \ \ \ \ \ \ \ HAL\_UART\_Transmit(\ \&huart1\ ,\ (uint8\_t\ *)\ message\ ,\ strlen(message)\ ,\ HAL\_MAX\_DELAY);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00307}00307\ \textcolor{comment}{\ \ \ \ \ \ \ \ sprintf(message,\ "{}Altitude:\ \%f\ meters\(\backslash\)r\(\backslash\)n"{},\ hgps.altitude);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00308}00308\ \textcolor{comment}{\ \ \ \ \ \ \ \ HAL\_UART\_Transmit(\ \&huart1\ ,\ (uint8\_t\ *)\ message\ ,\ strlen(message)\ ,\ HAL\_MAX\_DELAY);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00309}00309\ \textcolor{comment}{\ \ \ \ \ \ \ \ sprintf(message,\ "{}Speed:\ \%f\ knots\(\backslash\)r\(\backslash\)n"{},\ hgps.speed);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00310}00310\ \textcolor{comment}{\ \ \ \ \ \ \ \ HAL\_UART\_Transmit(\ \&huart1\ ,\ (uint8\_t\ *)\ message\ ,\ strlen(message)\ ,\ HAL\_MAX\_DELAY);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00311}00311\ \textcolor{comment}{\ \ \ \ \ \ \ \ sprintf(message,\ "{}Fix\ Mode:\ \%d\ \(\backslash\)r\(\backslash\)n"{},\ hgps.fix\_mode);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00312}00312\ \textcolor{comment}{\ \ \ \ \ \ \ \ HAL\_UART\_Transmit(\ \&huart1\ ,\ (uint8\_t\ *)\ message\ ,\ strlen(message)\ ,\ HAL\_MAX\_DELAY);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00313}00313\ \textcolor{comment}{\ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00314}00314\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00315}00315\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ put\ receiver\ back\ in\ RX\ state\ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00316}00316\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00317}00317\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00318}00318\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a63b72da7fff00fc0ce6cac1c4660f415}{buffStateFlag}}\ =\ write;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00319}00319\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_aff39d864a6594bc5f4a5e365282e00fe}{tail}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00320}00320\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00321}00321\ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00322}00322\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00338}\mbox{\hyperlink{group___u_a_r_t___exported___functions___group2_gae494a9643f29b87d6d81e5264e60e57b}{00338}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___u_a_r_t___exported___functions___group2_gae494a9643f29b87d6d81e5264e60e57b}{HAL\_UART\_RxCpltCallback}}(\mbox{\hyperlink{struct_____u_a_r_t___handle_type_def}{UART\_HandleTypeDef}}\ *huart)}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00339}00339\ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00340}00340\ \ \ \ \ \textcolor{keywordflow}{if}(\ huart\ ==\ \&\mbox{\hyperlink{my__code_8h_ab7c63c1b0f65db92b6a4ea19edf957e1}{huart3}})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00341}00341\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00342}00342\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a63b72da7fff00fc0ce6cac1c4660f415}{buffStateFlag}}\ ==\ write)}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00343}00343\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00344}00344\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (\mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a09f051b5f81b33b81ddc4068cc27f0fe}{parsingState}})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00345}00345\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00346}00346\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ init:}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00347}00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a7f4589c5a44136c693a6eee261c917bf}{newchar}}\ ==\ \textcolor{charliteral}{'\$'})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00348}00348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00349}00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a718512b34ac927fdf021953ca4bb1967}{buff}}[\mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_aff39d864a6594bc5f4a5e365282e00fe}{tail}}]\ =\ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a7f4589c5a44136c693a6eee261c917bf}{newchar}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00350}00350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_aff39d864a6594bc5f4a5e365282e00fe}{tail}}++;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00351}00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a09f051b5f81b33b81ddc4068cc27f0fe}{parsingState}}\ =\ seen\$;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00352}00352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00353}00353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00354}00354\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ seen\$:}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00355}00355\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a718512b34ac927fdf021953ca4bb1967}{buff}}[\mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_aff39d864a6594bc5f4a5e365282e00fe}{tail}}]\ =\ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a7f4589c5a44136c693a6eee261c917bf}{newchar}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00356}00356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_aff39d864a6594bc5f4a5e365282e00fe}{tail}}++;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00357}00357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a7f4589c5a44136c693a6eee261c917bf}{newchar}}\ ==\ \textcolor{charliteral}{'\(\backslash\)n'})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00358}00358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00359}00359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a344462e154011b2f37a7af0dbf8fd10a}{lineCounter}}++;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00360}00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a344462e154011b2f37a7af0dbf8fd10a}{lineCounter}}\ >=\ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_aadd3a59cea049460bd4e196c59181118}{numLines}})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00361}00361\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00362}00362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ full\ message\ complete}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00363}00363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(1)\ \textcolor{comment}{//\ check\ for\ time\ TKTKT}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00364}00364\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00365}00365\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a718512b34ac927fdf021953ca4bb1967}{buff}}[\mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_aff39d864a6594bc5f4a5e365282e00fe}{tail}}\ +\ 1]\ =\ \textcolor{charliteral}{'0'};\ \textcolor{comment}{//\ null\ terminate\ buffer\ might\ not\ be\ necessary)}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00366}00366\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a63b72da7fff00fc0ce6cac1c4660f415}{buffStateFlag}}\ =\ read;\ \textcolor{comment}{//\ set\ flag\ for\ main\ program;}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00367}00367\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a09f051b5f81b33b81ddc4068cc27f0fe}{parsingState}}\ =\ init;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00368}00368\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a344462e154011b2f37a7af0dbf8fd10a}{lineCounter}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00369}00369\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00370}00370\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00371}00371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00372}00372\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//too\ long\ since\ last\ line,\ restart}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00373}00373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_aff39d864a6594bc5f4a5e365282e00fe}{tail}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00374}00374\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a09f051b5f81b33b81ddc4068cc27f0fe}{parsingState}}\ =\ init;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00375}00375\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00376}00376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00377}00377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00378}00378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00379}00379\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00380}00380\ \ \ \ \ \ \ \ \ \ \ \ \ default\ :\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00381}00381\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00382}00382\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00383}00383\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___u_a_r_t___exported___functions___group2_gadc0c3ef2109881d011601f0d41e70e40}{HAL\_UART\_Receive\_IT}}(\&\mbox{\hyperlink{my__code_8h_ab7c63c1b0f65db92b6a4ea19edf957e1}{huart3}}\ ,\ (uint8\_t\ *)\ \&\ \mbox{\hyperlink{my__code_8c_ac4a5f96cb0722027682251a1fba3f60e}{gps}}.\mbox{\hyperlink{structgps__struct_a7f4589c5a44136c693a6eee261c917bf}{newchar}}\ ,\ 1);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00384}00384\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00385}00385\ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00386}00386\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00387}00387\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00388}00388\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00389}\mbox{\hyperlink{my__code_8h_a69cac0eadc64f447090ab8ac43653a12}{00389}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{my__code_8c_a69cac0eadc64f447090ab8ac43653a12}{lora\_TX\_blocking}}(\textcolor{keywordtype}{char}\ *\ payload,\ \textcolor{keywordtype}{int}\ length)}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00390}00390\ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00391}00391\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00392}00392\ \textcolor{comment}{\ \ \ \ *\ format\ is\ AT+SEND=<Address>,<Payload\ Length>,<Data>\(\backslash\)r\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00393}00393\ \textcolor{comment}{\ \ \ \ *\ ex:\ AT+SEND=5,5,hello\(\backslash\)r\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00394}00394\ \textcolor{comment}{\ \ \ \ *\ brackets\ are\ not\ sent}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00395}00395\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00396}00396\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00397}00397\ \ \ \ \ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{my__code_8c_ae1b4a2a0bd124fb2ee430c8ba7e3a071}{message}}[64];}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00398}00398\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00399}00399\ \ \ \ \ sprintf(\mbox{\hyperlink{my__code_8c_ae1b4a2a0bd124fb2ee430c8ba7e3a071}{message}},\ \textcolor{stringliteral}{"{}AT+SEND=\%d,\%d,\%s\(\backslash\)r\(\backslash\)n"{}},\mbox{\hyperlink{my__code_8h_a073581d7f31c92d23f38cb98b60ea56d}{LORA\_RECIVER\_ADDRESS}},length,payload);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00400}00400\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00401}00401\ \ \ \ \ \mbox{\hyperlink{group___u_a_r_t___exported___functions___group2_ga01a7a7ac3cf0a262814ba44ee7580ddb}{HAL\_UART\_Transmit}}(\ \&\mbox{\hyperlink{my__code_8h_a2cf715bef37f7e8ef385a30974a5f0d5}{huart1}}\ ,\ (uint8\_t\ *)\ \mbox{\hyperlink{my__code_8c_ae1b4a2a0bd124fb2ee430c8ba7e3a071}{message}}\ ,\ strlen(\mbox{\hyperlink{my__code_8c_ae1b4a2a0bd124fb2ee430c8ba7e3a071}{message}})\ ,\ \mbox{\hyperlink{stm32f0xx__hal__def_8h_aad28bc64749c50dcedd6bf819fdc6974}{HAL\_MAX\_DELAY}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00402}00402\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00403}00403\ \ \ \ \ \textcolor{comment}{//\ TX\ takes\ some\ time,\ can\ be\ calculated.\ Also\ should\ read\ back\ in\ the\ "{}+OK"{}\ response.}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00404}00404\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00405}00405\ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00406}00406\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00407}00407\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00410}\mbox{\hyperlink{my__code_8h_a3379ea969e8f3d0b3feff28db2ef81f8}{00410}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{my__code_8c_a3379ea969e8f3d0b3feff28db2ef81f8}{lora\_tx\_it}}(\textcolor{keywordtype}{char}\ *\ payload\ ,\ \textcolor{keywordtype}{int}\ length)}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00411}00411\ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00412}00412\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00413}00413\ \textcolor{comment}{\ \ \ \ *\ message\ format\ is\ "{}AT+SEND=<Address>,<Payload\ Length>,<Data>\(\backslash\)r\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00414}00414\ \textcolor{comment}{\ \ \ \ *\ ex:\ "{}AT+SEND=5,5,hello\(\backslash\)r\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00415}00415\ \textcolor{comment}{\ \ \ \ *\ (brackets\ are\ not\ sent)}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00416}00416\ \textcolor{comment}{\ \ \ \ *\ Response\ received\ on\ success\ is\ "{}+OK\(\backslash\)r\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00417}00417\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00418}00418\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00419}00419\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{my__code_8c_ae1b4a2a0bd124fb2ee430c8ba7e3a071}{message}}[64];}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00420}00420\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00421}00421\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ generate\ message\ string}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00422}00422\ \ \ \ \ \ \ \ \ sprintf(\mbox{\hyperlink{my__code_8c_ae1b4a2a0bd124fb2ee430c8ba7e3a071}{message}},\ \textcolor{stringliteral}{"{}AT+SEND=\%d,\%d,\%s\(\backslash\)r\(\backslash\)n"{}},\mbox{\hyperlink{my__code_8h_a073581d7f31c92d23f38cb98b60ea56d}{LORA\_RECIVER\_ADDRESS}},length,payload);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00423}00423\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00424}00424\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___u_a_r_t___exported___functions___group2_ga695812b114bd1eb4d9afd6831143b01b}{HAL\_UART\_Transmit\_IT}}(\ \&\mbox{\hyperlink{my__code_8h_a2cf715bef37f7e8ef385a30974a5f0d5}{huart1}}\ ,\ (uint8\_t\ *)\ \mbox{\hyperlink{my__code_8c_ae1b4a2a0bd124fb2ee430c8ba7e3a071}{message}}\ ,\ strlen(\mbox{\hyperlink{my__code_8c_ae1b4a2a0bd124fb2ee430c8ba7e3a071}{message}}));}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00425}00425\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00426}00426\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00427}00427\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ TX\ takes\ some\ time,\ which\ can\ be\ calculated\ in\ theory}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00428}00428\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ If\ another\ message\ is\ sent\ too\ soon,\ the\ radio\ will\ ignore\ it.}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00429}00429\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ Alternatively,\ the\ program\ could\ read\ back\ in\ the\ "{}+OK"{}\ response}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00430}00430\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ and\ only\ send\ another\ message\ after\ that.}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00431}00431\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ (this\ is\ not\ currently\ implemented)}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00432}00432\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00433}00433\ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00434}00434\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00435}\mbox{\hyperlink{group___t_i_m___exported___functions___group9_ga77a2401a35ddd9bd0b8fc28331b81381}{00435}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___t_i_m___exported___functions___group9_ga77a2401a35ddd9bd0b8fc28331b81381}{HAL\_TIM\_IC\_CaptureCallback}}(\mbox{\hyperlink{struct_t_i_m___handle_type_def}{TIM\_HandleTypeDef}}\ *htim)\{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00436}00436\ \ \ \textcolor{keywordflow}{if}(htim-\/>\mbox{\hyperlink{struct_t_i_m___handle_type_def_a57eac61d1d06cad73bdd26dabe961753}{Channel}}\ ==\ \mbox{\hyperlink{group___t_i_m___exported___types_ggaa3fa7bcbb4707f1151ccfc90a8cf9706a2024e95c48b58ec9b2115faa276e3fad}{HAL\_TIM\_ACTIVE\_CHANNEL\_1}})\ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00437}00437\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{my__code_8c_a5d7fd7789fda6c42c591954c2bb70588}{Is\_First\_Captured}}\ ==\ 0)\{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00438}00438\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_a493470a87e69019c801d43e7903a0cb6}{IC\_Val1}}\ =\ \mbox{\hyperlink{group___t_i_m___exported___functions___group8_ga726cf270b20654c4094da3eca1648f92}{HAL\_TIM\_ReadCapturedValue}}(htim,\ \mbox{\hyperlink{group___t_i_m___channel_ga6b1541e4a49d62610899e24bf23f4879}{TIM\_CHANNEL\_1}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00439}00439\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_a5d7fd7789fda6c42c591954c2bb70588}{Is\_First\_Captured}}\ =\ 1;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00440}00440\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00441}00441\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00442}00442\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_ad6e044721ac3056f8eeaf52ffbb6638b}{IC\_Val2}}\ =\ \mbox{\hyperlink{group___t_i_m___exported___functions___group8_ga726cf270b20654c4094da3eca1648f92}{HAL\_TIM\_ReadCapturedValue}}(htim,\ \mbox{\hyperlink{group___t_i_m___channel_ga6b1541e4a49d62610899e24bf23f4879}{TIM\_CHANNEL\_1}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00443}00443\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00444}00444\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{my__code_8c_ad6e044721ac3056f8eeaf52ffbb6638b}{IC\_Val2}}\ >\ \mbox{\hyperlink{my__code_8c_a493470a87e69019c801d43e7903a0cb6}{IC\_Val1}})\{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00445}00445\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_a7cb3d9526cb717de1ac2f83a7b7d88a4}{Difference}}\ =\ \mbox{\hyperlink{my__code_8c_ad6e044721ac3056f8eeaf52ffbb6638b}{IC\_Val2}}-\/\mbox{\hyperlink{my__code_8c_a493470a87e69019c801d43e7903a0cb6}{IC\_Val1}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00446}00446\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00447}00447\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{my__code_8c_a493470a87e69019c801d43e7903a0cb6}{IC\_Val1}}\ >\ \mbox{\hyperlink{my__code_8c_ad6e044721ac3056f8eeaf52ffbb6638b}{IC\_Val2}})\{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00448}00448\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_a7cb3d9526cb717de1ac2f83a7b7d88a4}{Difference}}\ =\ (0xffffffff\ -\/\ \mbox{\hyperlink{my__code_8c_a493470a87e69019c801d43e7903a0cb6}{IC\_Val1}})\ +\ \mbox{\hyperlink{my__code_8c_ad6e044721ac3056f8eeaf52ffbb6638b}{IC\_Val2}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00449}00449\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00450}00450\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00451}00451\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ refClock\ =\ \mbox{\hyperlink{my__code_8h_aa7e8765166068719381b53c8412d3ad6}{TIMCLOCK}}/(\mbox{\hyperlink{my__code_8h_a68b1b44e3ac5c4e2e90ef1e7e7e7ec88}{PRESCALAR}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00452}00452\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00453}00453\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_a9d3c19e881c80a6596884ecb8da4a0f4}{Frequency}}\ =\ refClock/\mbox{\hyperlink{my__code_8c_a7cb3d9526cb717de1ac2f83a7b7d88a4}{Difference}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00454}00454\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_a25e39b399c2a11f0d76e42ab8241a910}{rpm}}\ =\ \mbox{\hyperlink{my__code_8c_a9d3c19e881c80a6596884ecb8da4a0f4}{Frequency}}\ *\ 60.0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00455}00455\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00456}00456\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___t_i_m___exported___macros_ga9746ac75e4cd25cec1a9ebac8cb82b97}{\_\_HAL\_TIM\_SET\_COUNTER}}(htim,\ 0);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00457}00457\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_a5d7fd7789fda6c42c591954c2bb70588}{Is\_First\_Captured}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00458}00458\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00459}00459\ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00460}00460\ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00461}00461\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00465}\mbox{\hyperlink{my__code_8h_acd5eb894164a07a00867af26c324b26a}{00465}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{my__code_8c_acd5eb894164a07a00867af26c324b26a}{readVoltage}}(\textcolor{keywordtype}{float}\ div)\{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00466}00466\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00467}00467\ \ \ \ \ \ \ \textcolor{comment}{/*\ Poll\ for\ voltage\ divider*/}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00468}00468\ \ \ \ \ \mbox{\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}}\ retval;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00469}00469\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a29d7b6715dbf6dfe6b4da72f234cbd9c}{ADC\_Disable\_channels}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00470}00470\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00471}00471\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a251b2b87677061134af81bc00ad40c70}{ADC\_Select\_CH0}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00472}00472\ \ \ \ \ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_ga193666e3bde978627c9ee1e2073c69c0}{HAL\_ADC\_Start}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00473}00473\ \ \ \ \ retval\ =\ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_gad9c0b5763ab75357407e22d310befc30}{HAL\_ADC\_PollForConversion}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}},1000);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00474}00474\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a4d122fe4f75f69642832764efc0f451c}{readValue}}\ =\ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_ga421008ca3885339acb12f400958ffbe4}{HAL\_ADC\_GetValue}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00475}00475\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a03220cc699ee703ec90047e2a87c4785}{volt0}}\ =\ ((float)\ \mbox{\hyperlink{my__code_8c_a4d122fe4f75f69642832764efc0f451c}{readValue}}\ *\ 3.3\ /\ 4095.0)\ /\ (float)\ div\ ;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00476}00476\ \ \ \ \ \textcolor{comment}{//HAL\_Delay\ (100);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00477}00477\ \ \ \ \ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_ga1b00cb85fc6c0f40fabd02701528711d}{HAL\_ADC\_Stop}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00478}00478\ \ \ \ \ \textcolor{comment}{//\ .9104151493}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00479}00479\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a29d7b6715dbf6dfe6b4da72f234cbd9c}{ADC\_Disable\_channels}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00480}00480\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00481}00481\ \ \ \ \ \mbox{\hyperlink{my__code_8c_acb840db66fc6cc2cc8f57bd208fabd0b}{ADC\_Select\_CH1}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00482}00482\ \ \ \ \ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_ga193666e3bde978627c9ee1e2073c69c0}{HAL\_ADC\_Start}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00483}00483\ \ \ \ \ retval\ =\ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_gad9c0b5763ab75357407e22d310befc30}{HAL\_ADC\_PollForConversion}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}},1000);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00484}00484\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a4d122fe4f75f69642832764efc0f451c}{readValue}}\ =\ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_ga421008ca3885339acb12f400958ffbe4}{HAL\_ADC\_GetValue}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00485}00485\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a492129e77ccbe26628dbf3253cfc03f3}{volt1}}\ =\ ((float)\ \mbox{\hyperlink{my__code_8c_a4d122fe4f75f69642832764efc0f451c}{readValue}}\ *\ 3.3\ \ /\ 4095.0)\ /\ (float)\ div\ ;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00486}00486\ \ \ \ \ \textcolor{comment}{//HAL\_Delay\ (100);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00487}00487\ \ \ \ \ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_ga1b00cb85fc6c0f40fabd02701528711d}{HAL\_ADC\_Stop}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00488}00488\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a29d7b6715dbf6dfe6b4da72f234cbd9c}{ADC\_Disable\_channels}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00489}00489\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00490}00490\ \ \ \ \ \mbox{\hyperlink{my__code_8c_adb4a850ae98f4c5235a813f1f92ae52d}{ADC\_Select\_CH2}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00491}00491\ \ \ \ \ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_ga193666e3bde978627c9ee1e2073c69c0}{HAL\_ADC\_Start}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00492}00492\ \ \ \ \ retval\ =\ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_gad9c0b5763ab75357407e22d310befc30}{HAL\_ADC\_PollForConversion}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}},1000);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00493}00493\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a4d122fe4f75f69642832764efc0f451c}{readValue}}\ =\ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_ga421008ca3885339acb12f400958ffbe4}{HAL\_ADC\_GetValue}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00494}00494\ \ \ \ \ \mbox{\hyperlink{my__code_8c_ab75f4db6d1e874ad84b544b298551ccc}{volt2}}\ =\ ((float)\ \mbox{\hyperlink{my__code_8c_a4d122fe4f75f69642832764efc0f451c}{readValue}}\ *\ 3.3\ \ /\ 4095.0)\ /\ (float)\ div\ ;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00495}00495\ \ \ \ \ \textcolor{comment}{//HAL\_Delay\ (100);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00496}00496\ \ \ \ \ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_ga1b00cb85fc6c0f40fabd02701528711d}{HAL\_ADC\_Stop}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00497}00497\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a29d7b6715dbf6dfe6b4da72f234cbd9c}{ADC\_Disable\_channels}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00498}00498\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00499}00499\ \ \ \ \ \mbox{\hyperlink{my__code_8c_aa35b535901d9f153065156a93abeb107}{ADC\_Select\_CH3}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00500}00500\ \ \ \ \ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_ga193666e3bde978627c9ee1e2073c69c0}{HAL\_ADC\_Start}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00501}00501\ \ \ \ \ retval\ =\ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_gad9c0b5763ab75357407e22d310befc30}{HAL\_ADC\_PollForConversion}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}},1000);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00502}00502\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a4d122fe4f75f69642832764efc0f451c}{readValue}}\ =\ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_ga421008ca3885339acb12f400958ffbe4}{HAL\_ADC\_GetValue}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00503}00503\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a9ba4b6c7877ede091f28d1b0d74d0a91}{volt3}}\ =\ ((float)\ \mbox{\hyperlink{my__code_8c_a4d122fe4f75f69642832764efc0f451c}{readValue}}\ *\ 3.3\ \ /\ 4095.0)\ /\ (float)\ div\ ;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00504}00504\ \ \ \ \ \textcolor{comment}{//HAL\_Delay\ (100);}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00505}00505\ \ \ \ \ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_ga1b00cb85fc6c0f40fabd02701528711d}{HAL\_ADC\_Stop}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00506}00506\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00507}00507\ \ \ \ \ \mbox{\hyperlink{my__code_8c_a9d3c19e881c80a6596884ecb8da4a0f4}{Frequency}}\ =\ retval;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00508}00508\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00509}00509\ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00510}00510\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00511}\mbox{\hyperlink{my__code_8c_a656e85eaba42f1b5ea2488b0375ecf22}{00511}}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{my__code_8c_a656e85eaba42f1b5ea2488b0375ecf22}{readCurrent}}(\textcolor{keywordtype}{void})\{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00512}00512\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00513}00513\ \ \ \ \ \ \ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_gad9c0b5763ab75357407e22d310befc30}{HAL\_ADC\_PollForConversion}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}},1000);}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00514}00514\ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_a4d122fe4f75f69642832764efc0f451c}{readValue}}\ =\ \mbox{\hyperlink{group___a_d_c___exported___functions___group2_ga421008ca3885339acb12f400958ffbe4}{HAL\_ADC\_GetValue}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}});}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00515}00515\ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_a46d034bf9b16163f4fa1f8b7980d34c1}{rawVoltage}}\ =\ (float)\ \mbox{\hyperlink{my__code_8c_a4d122fe4f75f69642832764efc0f451c}{readValue}}\ *\ 3.3\ *\ .9104151493\ /\ 4095.0\ ;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00516}00516\ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ rawVoltage\ is\ not\ 2.5Volt,\ multiply\ by\ a\ factor.In\ my\ case\ it\ is\ 1.035}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00517}00517\ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ is\ due\ to\ tolerance\ in\ voltage\ divider\ resister\ \&\ ADC\ accuracy}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00518}00518\ \ \ \ \ \ \ \mbox{\hyperlink{my__code_8c_af9653d31acfffa5a40aa709b2065e00b}{current}}\ =(\mbox{\hyperlink{my__code_8c_a46d034bf9b16163f4fa1f8b7980d34c1}{rawVoltage}}\ -\/\ 2.4988276)/\mbox{\hyperlink{my__code_8c_ac518d2e94791ccc6f84de95271e52c76}{sensitivity}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00519}00519\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{my__code_8c_af9653d31acfffa5a40aa709b2065e00b}{current}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00520}00520\ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00521}00521\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00522}\mbox{\hyperlink{my__code_8c_a29d7b6715dbf6dfe6b4da72f234cbd9c}{00522}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{my__code_8c_a29d7b6715dbf6dfe6b4da72f234cbd9c}{ADC\_Disable\_channels}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00523}00523\ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00524}00524\ \ \ \ \ \mbox{\hyperlink{struct_a_d_c___channel_conf_type_def}{ADC\_ChannelConfTypeDef}}\ sConfig\ =\ \{0\};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00525}00525\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00526}00526\ \ \ \ \ \textcolor{comment}{//disable\ channel\ 0}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00527}00527\ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_ae82bf9242a014164f9f6907f29782c44}{Channel}}\ =\ \mbox{\hyperlink{group___a_d_c__channels_ga3c5075aee5af4eae02f1a72d6216199c}{ADC\_CHANNEL\_0}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00528}00528\ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_ab926cc2abe3d17aeaf637d499aef6b1b}{Rank}}\ =\ \mbox{\hyperlink{group___a_d_c__rank_gace464dc0c5d9a401d2842f7f1629d5cd}{ADC\_RANK\_NONE}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00529}00529\ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_a72e649848c8a14f0adcba783cfb3b2cd}{SamplingTime}}\ =\ \ \mbox{\hyperlink{group___a_d_c__sampling__times_ga7172f3d957445df5b98648b25ccc64d4}{ADC\_SAMPLETIME\_239CYCLES\_5}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00530}00530\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___a_d_c___exported___functions___group3_gac6f70c4927204d6f50ab44c8e4800106}{HAL\_ADC\_ConfigChannel}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}},\ \&sConfig)\ !=\ \mbox{\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00531}00531\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00532}00532\ \ \ \ \ \mbox{\hyperlink{main_8h_a1730ffe1e560465665eb47d9264826f9}{Error\_Handler}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00533}00533\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00534}00534\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00535}00535\ \ \ \ \ \textcolor{comment}{//disable\ channel\ 1}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00536}00536\ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_ae82bf9242a014164f9f6907f29782c44}{Channel}}\ =\ \mbox{\hyperlink{group___a_d_c__channels_gaeb119201733a871c94971c51843ffaac}{ADC\_CHANNEL\_1}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00537}00537\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___a_d_c___exported___functions___group3_gac6f70c4927204d6f50ab44c8e4800106}{HAL\_ADC\_ConfigChannel}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}},\ \&sConfig)\ !=\ \mbox{\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00538}00538\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00539}00539\ \ \ \ \ \mbox{\hyperlink{main_8h_a1730ffe1e560465665eb47d9264826f9}{Error\_Handler}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00540}00540\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00541}00541\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00542}00542\ \ \ \ \ \textcolor{comment}{//disable\ channel\ 2}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00543}00543\ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_ae82bf9242a014164f9f6907f29782c44}{Channel}}\ =\ \mbox{\hyperlink{group___a_d_c__channels_gad576132ebd78a3429be34f44e474c914}{ADC\_CHANNEL\_2}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00544}00544\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___a_d_c___exported___functions___group3_gac6f70c4927204d6f50ab44c8e4800106}{HAL\_ADC\_ConfigChannel}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}},\ \&sConfig)\ !=\ \mbox{\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00545}00545\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00546}00546\ \ \ \ \ \mbox{\hyperlink{main_8h_a1730ffe1e560465665eb47d9264826f9}{Error\_Handler}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00547}00547\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00548}00548\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00549}00549\ \ \ \ \ \textcolor{comment}{//disable\ channel\ 3}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00550}00550\ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_ae82bf9242a014164f9f6907f29782c44}{Channel}}\ =\ \mbox{\hyperlink{group___a_d_c__channels_ga56dba5d35f1f7bcad41e4f9a7da3b125}{ADC\_CHANNEL\_3}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00551}00551\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___a_d_c___exported___functions___group3_gac6f70c4927204d6f50ab44c8e4800106}{HAL\_ADC\_ConfigChannel}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}},\ \&sConfig)\ !=\ \mbox{\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00552}00552\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00553}00553\ \ \ \ \ \mbox{\hyperlink{main_8h_a1730ffe1e560465665eb47d9264826f9}{Error\_Handler}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00554}00554\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00555}00555\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00556}00556\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00557}00557\ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00558}00558\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00562}\mbox{\hyperlink{my__code_8h_acb840db66fc6cc2cc8f57bd208fabd0b}{00562}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{my__code_8c_acb840db66fc6cc2cc8f57bd208fabd0b}{ADC\_Select\_CH1}}\ (\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00563}00563\ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00564}00564\ \ \ \ \ \mbox{\hyperlink{struct_a_d_c___channel_conf_type_def}{ADC\_ChannelConfTypeDef}}\ sConfig\ =\ \{0\};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00565}00565\ \ \ \ \ \ \ \textcolor{comment}{//\ Configure\ for\ the\ selected\ ADC\ regular\ channel\ its\ corresponding\ rank\ in\ the\ sequencer\ and\ its\ sample\ time.}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00566}00566\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00567}00567\ \ \ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_ae82bf9242a014164f9f6907f29782c44}{Channel}}\ =\mbox{\hyperlink{group___a_d_c__channels_gaeb119201733a871c94971c51843ffaac}{ADC\_CHANNEL\_1}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00568}00568\ \ \ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_ab926cc2abe3d17aeaf637d499aef6b1b}{Rank}}\ =\ 1;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00569}00569\ \ \ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_a72e649848c8a14f0adcba783cfb3b2cd}{SamplingTime}}\ =\ \ \mbox{\hyperlink{group___a_d_c__sampling__times_ga7172f3d957445df5b98648b25ccc64d4}{ADC\_SAMPLETIME\_239CYCLES\_5}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00570}00570\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___a_d_c___exported___functions___group3_gac6f70c4927204d6f50ab44c8e4800106}{HAL\_ADC\_ConfigChannel}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}},\ \&sConfig)\ !=\ \mbox{\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00571}00571\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00572}00572\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{main_8h_a1730ffe1e560465665eb47d9264826f9}{Error\_Handler}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00573}00573\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00574}00574\ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00575}00575\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00579}\mbox{\hyperlink{my__code_8h_adb4a850ae98f4c5235a813f1f92ae52d}{00579}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{my__code_8c_adb4a850ae98f4c5235a813f1f92ae52d}{ADC\_Select\_CH2}}\ (\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00580}00580\ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00581}00581\ \ \ \ \ \mbox{\hyperlink{struct_a_d_c___channel_conf_type_def}{ADC\_ChannelConfTypeDef}}\ sConfig\ =\ \{0\};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00582}00582\ \ \ \ \ \ \ \textcolor{comment}{//\ Configure\ for\ the\ selected\ ADC\ regular\ channel\ its\ corresponding\ rank\ in\ the\ sequencer\ and\ its\ sample\ time.}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00583}00583\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00584}00584\ \ \ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_ae82bf9242a014164f9f6907f29782c44}{Channel}}\ =\ \mbox{\hyperlink{group___a_d_c__channels_gad576132ebd78a3429be34f44e474c914}{ADC\_CHANNEL\_2}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00585}00585\ \ \ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_ab926cc2abe3d17aeaf637d499aef6b1b}{Rank}}\ =\ 2;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00586}00586\ \ \ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_a72e649848c8a14f0adcba783cfb3b2cd}{SamplingTime}}\ =\ \ \mbox{\hyperlink{group___a_d_c__sampling__times_ga7172f3d957445df5b98648b25ccc64d4}{ADC\_SAMPLETIME\_239CYCLES\_5}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00587}00587\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___a_d_c___exported___functions___group3_gac6f70c4927204d6f50ab44c8e4800106}{HAL\_ADC\_ConfigChannel}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}},\ \&sConfig)\ !=\ \mbox{\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00588}00588\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00589}00589\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{main_8h_a1730ffe1e560465665eb47d9264826f9}{Error\_Handler}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00590}00590\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00591}00591\ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00592}00592\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00596}\mbox{\hyperlink{my__code_8h_aa35b535901d9f153065156a93abeb107}{00596}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{my__code_8c_aa35b535901d9f153065156a93abeb107}{ADC\_Select\_CH3}}\ (\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00597}00597\ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00598}00598\ \ \ \ \ \mbox{\hyperlink{struct_a_d_c___channel_conf_type_def}{ADC\_ChannelConfTypeDef}}\ sConfig\ =\ \{0\};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00599}00599\ \ \ \ \ \ \ \textcolor{comment}{//\ Configure\ for\ the\ selected\ ADC\ regular\ channel\ its\ corresponding\ rank\ in\ the\ sequencer\ and\ its\ sample\ time.}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00600}00600\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00601}00601\ \ \ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_ae82bf9242a014164f9f6907f29782c44}{Channel}}\ =\ \mbox{\hyperlink{group___a_d_c__channels_ga56dba5d35f1f7bcad41e4f9a7da3b125}{ADC\_CHANNEL\_3}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00602}00602\ \ \ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_ab926cc2abe3d17aeaf637d499aef6b1b}{Rank}}\ =\ 3;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00603}00603\ \ \ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_a72e649848c8a14f0adcba783cfb3b2cd}{SamplingTime}}\ =\ \ \mbox{\hyperlink{group___a_d_c__sampling__times_ga7172f3d957445df5b98648b25ccc64d4}{ADC\_SAMPLETIME\_239CYCLES\_5}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00604}00604\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___a_d_c___exported___functions___group3_gac6f70c4927204d6f50ab44c8e4800106}{HAL\_ADC\_ConfigChannel}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}},\ \&sConfig)\ !=\ \mbox{\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00605}00605\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00606}00606\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{main_8h_a1730ffe1e560465665eb47d9264826f9}{Error\_Handler}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00607}00607\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00608}00608\ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00609}00609\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00613}\mbox{\hyperlink{my__code_8h_a251b2b87677061134af81bc00ad40c70}{00613}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{my__code_8c_a251b2b87677061134af81bc00ad40c70}{ADC\_Select\_CH0}}\ (\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00614}00614\ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00615}00615\ \ \ \ \ \mbox{\hyperlink{struct_a_d_c___channel_conf_type_def}{ADC\_ChannelConfTypeDef}}\ sConfig\ =\ \{0\};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00616}00616\ \ \ \ \ \ \ \textcolor{comment}{//\ Configure\ for\ the\ selected\ ADC\ regular\ channel\ its\ corresponding\ rank\ in\ the\ sequencer\ and\ its\ sample\ time.}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00617}00617\ }
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00618}00618\ \ \ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_ae82bf9242a014164f9f6907f29782c44}{Channel}}\ =\ \mbox{\hyperlink{group___a_d_c__channels_ga3c5075aee5af4eae02f1a72d6216199c}{ADC\_CHANNEL\_0}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00619}00619\ \ \ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_ab926cc2abe3d17aeaf637d499aef6b1b}{Rank}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00620}00620\ \ \ \ \ \ \ sConfig.\mbox{\hyperlink{struct_a_d_c___channel_conf_type_def_a72e649848c8a14f0adcba783cfb3b2cd}{SamplingTime}}\ =\ \ \mbox{\hyperlink{group___a_d_c__sampling__times_ga7172f3d957445df5b98648b25ccc64d4}{ADC\_SAMPLETIME\_239CYCLES\_5}};}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00621}00621\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___a_d_c___exported___functions___group3_gac6f70c4927204d6f50ab44c8e4800106}{HAL\_ADC\_ConfigChannel}}(\&\mbox{\hyperlink{adc_8h_a62fcafba91cf315db7e0e0c8f22c656f}{hadc}},\ \&sConfig)\ !=\ \mbox{\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00622}00622\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00623}00623\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{main_8h_a1730ffe1e560465665eb47d9264826f9}{Error\_Handler}}();}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00624}00624\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{my__code_8c_source_l00625}00625\ \}}

\end{DoxyCode}
